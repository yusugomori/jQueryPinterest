/*!
 * jquery.pinterest.js - placing your images with Pinterest look
 *
 * @version  1.0.0
 * @author   yusugomori
 * @license  http://yusugomori.com/license/mit The MIT License
 *
 * More details on github: https://github.com/yusugomori/jQueryPinterest
*/
var jQueryPinterest;jQueryPinterest=(function(){function a(b){var c=this;if(b==null){b={}}this.pinHolderId="#jQueryPinHolder";this.pinHolderWidth=940;this.pinHolderToggle=true;this.pinWidth=192;this.pinPadding=15;this.pinMargin=15;if(b.pinHolderId!=null){this.pinHolderId=b.pinHolderId}if(b.pinHolderWidth!=null){this.pinHolderWidth=b.pinHolderWidth}if(b.pinHolderToggle!=null){this.pinHolderToggle=b.pinHolderToggle}if(b.pinWidth!=null){this.pinWidth=b.pinWidth}if(b.pinPadding!=null){this.pinPadding=b.pinPadding}if(b.pinMargin!=null){this.pinMargin=b.pinMargin}this.pins=""+this.pinHolderId+" .pin";$(this.pinHolderId).css({visibility:"hidden",position:"relative","margin-left":"auto","margin-right":"auto","min-width":this.pinHolderWidth});$(this.pins).css({position:"absolute",width:this.pinWidth,padding:this.pinPadding,background:"#fff","-webkit-box-shadow":"0 1px 3px rgba(34,25,25,0.4)","-moz-box-shadow":"0 1px 2px rgba(34,25,25,0.4)","box-shadow":"0 1px 3px rgba(34,25,25,0.4)"});$("body").imagesLoaded(function(){return c.main()});$(window).bind("resize",function(){return c.main()})}a.prototype.main=function(){var f,d,b,e,h,g,c;this.clientWidth=this.getClientWidth();this.pinNum=this.getPinNum();g=this.getRowNum();f=new Array(g);for(d=0;0<=g?d<g:d>g;0<=g?d++:d--){f[d]=0}b=[];e=[];c=this;h=0;$(this.pins).each(function(){var j,i;i=h%g;if(i===0){b=[];e=[]}c.storePinData(this,b,e);h++;if((i===g-1)||(h===c.pinNum&&i!==g-1)){if(h!==g){j=c.sortPins(f,b)}else{j=c._sortPins(f,b)}return c.setPins(f,b,e,j)}});return $(this.pinHolderId).css({visibility:"visible",width:g*(this.pinWidth+2*this.pinPadding)+(g-1)*this.pinMargin,height:Math.max.apply(null,f)})};a.prototype.storePinData=function(f,c,g){var d,b,e;d=$(f).children("img:eq(0)");e=$(d).width();b=$(d).height()*this.pinWidth/e;$(d).css({width:this.pinWidth,height:Math.floor(b),display:"block"});c.push($(f).outerHeight());g.push(f);return this};a.prototype.setPins=function(c,j,h,f){var l,g,d,k,b,e;k=h.concat();d=j.concat();for(g=0,e=d.length;0<=e?g<e:g>e;0<=e?g++:g--){b=f.sortedLocalHeightOrder[g];l=f.asortedGlobalHeightOrder[g];$(k[b]).css({top:c[l]+this.pinMargin,left:l*(this.pinWidth+2*this.pinPadding+this.pinMargin)});c[l]+=d[b]+this.pinMargin}return this};a.prototype._sortPins=function(g,f){var h,d,b,c,e,j;b=f.concat();c=new Array(b.length);h=new Array(g.length);for(d=0,e=b.length;0<=e?d<e:d>e;0<=e?d++:d--){c[d]=d}for(d=0,j=g.length;0<=j?d<j:d>j;0<=j?d++:d--){h[d]=d}return{sortedLocalHeightOrder:c,asortedGlobalHeightOrder:h}};a.prototype.sortPins=function(c,n){var b,o,m,h,k,p,g,l,f,e,d;k=n.concat();p=k.concat().sort(this.arraySort);b=c.concat().sort(this.arraySort).reverse();g=new Array(k.length);o=new Array(c.length);for(m=0,l=k.length;0<=l?m<l:m>l;0<=l?m++:m--){for(h=0,f=k.length;0<=f?h<f:h>f;0<=f?h++:h--){if(p[m]===k[h]&&g.indexOf(h)===-1){g[m]=h;break}}}for(m=0,e=c.length;0<=e?m<e:m>e;0<=e?m++:m--){for(h=0,d=c.length;0<=d?h<d:h>d;0<=d?h++:h--){if(b[m]===c[h]&&o.indexOf(h)===-1){o[m]=h;break}}}return{sortedLocalHeightOrder:g,asortedGlobalHeightOrder:o}};a.prototype.getClientWidth=function(){var b;if(this.pinHolderToggle===true){b=document.documentElement.clientWidth;if(!(b>this.pinHolderWidth)){b=this.pinHolderWidth}}else{b=this.pinHolderWidth}return b};a.prototype.getRowNum=function(){var e,b,c,d;d=0;e=this.clientWidth;c=this.pinWidth+2*this.pinPadding;b=this.pinMargin;while(e>=c){e-=c;d++;if(e>=b){e-=b}}return d};a.prototype.getPinNum=function(){var b;b=0;$(this.pins).each(function(){return b++});return b};a.prototype.arraySort=function(d,c){return c-d};return a})();